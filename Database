CREATE DATABASE VitaCarePhormacy;

CREATE TABLE Admin
(
   Admin_ID int Primary Key,
   Admin_Name Varchar (50) NOT NULL
);

CREATE TABLE Suppliers (
    SupplierID INT IDENTITY PRIMARY KEY,
    SupplierName NVARCHAR(150) NOT NULL,
    Phone NVARCHAR(50),
    Email NVARCHAR(100),
    Address NVARCHAR(200)
);


CREATE TABLE Products (
    ProductID INT IDENTITY PRIMARY KEY,
    ProductName NVARCHAR(150) NOT NULL,
    Category NVARCHAR(100),
    UnitPrice DECIMAL(10,2) NOT NULL,
    Quantity INT NOT NULL,
    ExpiryDate DATE NOT NULL,
    ReorderLevel INT DEFAULT 10,
    SupplierID INT,
    FOREIGN KEY (SupplierID) REFERENCES Suppliers(SupplierID)
);


CREATE TABLE Customers (
    CustomerID INT IDENTITY PRIMARY KEY,
    CustomerName NVARCHAR(150),
    Phone NVARCHAR(50),
    Address NVARCHAR(200)
);


CREATE TABLE Sales (
    SaleID INT IDENTITY PRIMARY KEY,
    UserID INT NOT NULL,                 
    CustomerID INT NULL,
    SaleDate DATETIME DEFAULT GETDATE(),
    TotalAmount DECIMAL(10,2),
    FOREIGN KEY (UserID) REFERENCES Users(UserID),
    FOREIGN KEY (CustomerID) REFERENCES Customers(CustomerID)
);

CREATE TABLE SaleDetails (
    SaleDetailID INT IDENTITY PRIMARY KEY,
    SaleID INT NOT NULL,
    ProductID INT NOT NULL,
    Quantity INT NOT NULL,
    UnitPrice DECIMAL(10,2) NOT NULL,
    FOREIGN KEY (SaleID) REFERENCES Sales(SaleID),
    FOREIGN KEY (ProductID) REFERENCES Products(ProductID)
);

